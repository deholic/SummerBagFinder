//
//  RegionSelectPresenter.swift
//  SummerBagFinder
//
//  Created by EUIGYOM KIM on 2020/06/21.
//  Copyright (c) 2020 EUIGYOM KIM. All rights reserved.
//
//  This file was generated by the Clean Swift Xcode Templates so
//  you can apply clean architecture to your iOS and Mac projects,
//  see http://clean-swift.com
//

import UIKit

// MARK: RegionSelectPresenter

class RegionSelectPresenter: RegionSelectPresentationLogic {
    
    weak var viewController: RegionSelectDisplayLogic?
    
    deinit {
        print(#function)
    }
    
    func displayRegionList(_ response: RegionSelect.Response.Regions) {
        let regions = response.regions.map {
            RegionViewModel(
                name: $0.name,
                subregions: $0.subregions.map { RegionViewModel.SubregionViewModel(name: $0.name)}
            )
        }
        let viewModel = RegionSelect.ViewModel.Regions(regions: regions)
        viewController?.displayRegionList(viewModel)
    }
    
    func displayAlertMessage(_ response: RegionSelect.Response.AlertMessage) {
        let viewModel = RegionSelect.ViewModel.AlertMessage(
            title: "test",
            message: response.message,
            confirmTitle: "확인"
        )
        viewController?.displayAlertMessage(viewModel)
    }
}

// MARK: RegionSelectDisplayLogic

protocol RegionSelectDisplayLogic: class {
    func displayRegionList(_ viewModel: RegionSelect.ViewModel.Regions)
    func displayAlertMessage(_ viewModel: RegionSelect.ViewModel.AlertMessage)
}
